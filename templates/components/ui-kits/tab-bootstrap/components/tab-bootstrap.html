{% load static %}
{% load sass_tags %}

<style>
    /* نمط التبويبات لتكون باللون الأسود */
    .nav-tabs .nav-link {
        color: #80CBC4 !important; /* تغيير لون النص إلى الأسود */
    }

    .border-tab.nav-danger .nav-item .nav-link.active {
        color: #5C6BC0 !important;
        border-bottom: 2px solid #5C6BC0;
    }

    /* إضافة خطوط رمادية بين الصفوف والأعمدة */
    .table th, .table td {
        border: 1px solid #ddd; /* تعيين الخط الرمادي */
        padding: 8px;
    }

    .table th {
        background-color: #f2f2f2;
        text-align: left;
    }

    .custom-scrollbar {
        max-height: 300px; /* يمكنك ضبط الارتفاع المطلوب هنا */
        overflow-y: auto;
    }
     .nav-tabs{
        overflow-x: auto;
        white-space: nowrap; /* يضمن عدم الكسر الخط */
        padding-bottom: 10px; /* توسيع الفراغ السفلي لتجنب تغطية الأسهم */
    }

    .nav-tabs .nav-item {
        display: inline-block; /* يجعل العناصر تظهر جنبًا إلى جنب بدلاً من عموديًا */
        margin-right: 10px; /* تباعد بسيط بين العناصر */
    }

    .nav-tabs .nav-link {
        padding: 10px 15px; /* توسيع الرموز لزيادة التوضيح */
        border-radius: 0; /* إزالة الزوايا لتحقيق تبديل توازن جيد */
    }

    .nav-tabs .nav-link.active {
        font-weight: bold; /* تمييز التبويب النشط بالخط العريض */
        background-color: #f8f9fa; /* لون خلفية التبويب النشط */
    }
</style>

<!-- Container-fluid starts  -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12 col-xl-6">
            <div class="card">
                <div class="card-body">
                    <ul class="nav nav-tabs border-tab border-0 mb-0 nav-danger" id="topline-tab" role="tablist">
                        <!--  Company Tab  -->
                        <li class="nav-item">
                            <a class="nav-link active nav-border pt-0 txt-danger nav-danger"
                               id="topline-top-companies-tab"
                               data-bs-toggle="tab" href="#topline-top-companies"
                               role="tab" aria-controls="topline-top-companies" aria-selected="true">Company
                            </a>
                        </li>
                        <!--  Inbound Tab  -->
                        <li class="nav-item">
                            <a class="nav-link nav-border txt-danger nav-danger"
                               id="topline-top-inbound-tab"
                               data-bs-toggle="tab" href="#topline-top-inbound"
                               role="tab" aria-controls="topline-top-inbound" aria-selected="false">Inbound
                            </a>
                        </li>
                        <!--  Outbound Tab  -->
                        <li class="nav-item">
                            <a class="nav-link nav-border txt-danger nav-danger"
                               id="topline-top-outbound-tab"
                               data-bs-toggle="tab" href="#topline-top-outbound"
                               role="tab" aria-controls="topline-top-outbound" aria-selected="false">Outbound
                            </a>
                        </li>
                        <!--  Return Tab  -->
                        <li class="nav-item">
                            <a class="nav-link nav-border txt-danger nav-danger"
                               id="topline-top-return-tab"
                               data-bs-toggle="tab" href="#topline-top-return"
                               role="tab" aria-controls="topline-top-return" aria-selected="false">Return
                            </a>
                        </li>
                        <!--  Expiry Tab  -->
                        <li class="nav-item">
                            <a class="nav-link nav-border txt-danger nav-danger"
                               id="topline-top-expiries-tab"
                               data-bs-toggle="tab" href="#topline-top-expiries"
                               role="tab" aria-controls="topline-top-expiries" aria-selected="false">Expiry
                            </a>
                        </li>
                        <!--  Damage Tab  -->
                        <li class="nav-item">
                            <a class="nav-link nav-border txt-danger nav-danger"
                               id="topline-top-damages-tab"
                               data-bs-toggle="tab" href="#topline-top-damages"
                               role="tab" aria-controls="topline-top-damages" aria-selected="false">Expiry
                            </a>
                        </li>
                        <!--  Travel Distances Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-border txt-danger nav-danger"
                               id="topline-top-travel_distances-tab"
                               data-bs-toggle="tab" href="#topline-top-travel_distances"
                               role="tab" aria-controls="topline-top-travel_distances" aria-selected="false">Travel
                                Distances
                            </a>
                        </li>
                        <!--  Inventories Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-border txt-danger nav-danger"
                               id="topline-top-inventories-tab"
                               data-bs-toggle="tab" href="#topline-top-inventories"
                               role="tab" aria-controls="topline-top-inventories" aria-selected="false">Inventories
                            </a>
                        </li>
                        <!--  Pallet Location Availabilities Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-border txt-danger nav-danger"
                               id="topline-top-pallet_location_availabilities-tab"
                               data-bs-toggle="tab" href="#topline-top-pallet_location_availabilities"
                               role="tab" aria-controls="topline-top-pallet_location_availabilities"
                               aria-selected="false">Pallet Location Availabilities
                            </a>
                        </li>
                        <!--  HSE Tab -->
                        <li class="nav-item">
                            <a class="nav-link nav-border txt-danger nav-danger"
                               id="topline-top-hses-tab"
                               data-bs-toggle="tab" href="#topline-top-hses"
                               role="tab" aria-controls="topline-top-hses" aria-selected="false">HSE
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content" id="topline-tabContent">
                        <!-- Table Company  -->
                        <div class="tab-pane fade show active" id="topline-top-companies" role="tabpanel"
                             aria-labelledby="topline-top-companies-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">Company Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Name</th>
                                                <th scope="col">User</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for company in companies %}
                                            <tr>
                                                <th scope="row">{{ company.id }}</th>
                                                <td contenteditable="true"
                                                    onblur="updateData('Customer', {{ company.id }}, 'name_company', this.innerText)">
                                                    {{ company.name_company }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('Customer', {{ company.id }}, 'username', this.innerText)">
                                                    {{ company.user.username }}
                                                </td>
                                                <td>
                                                    <button onclick="deleteData('Customer', {{ company.id }})">Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Table Inbound -->
                        <div class="tab-pane fade" id="topline-top-inbound" role="tabpanel"
                             aria-labelledby="topline-top-inbound-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">Inbound Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Time</th>
                                                <th scope="col">Day</th>
                                                <th scope="col">Total Shipments in ASN</th>
                                                <th scope="col">Arrived</th>
                                                <th scope="col">No show</th>
                                                <th scope="col">Received Completely</th>
                                                <th scope="col">Rejected Completely</th>
                                                <th scope="col">Received Partially</th>
                                                <th scope="col">Under Tamer Inspection</th>
                                                <th scope="col">Waiting for MOD Inspection</th>
                                                <th scope="col">Waiting for NUPCO Action</th>
                                                <th scope="col">Total # of GR Reports Shared</th>
                                                <th scope="col"># of GR reports with Discrepancy</th>
                                                <th scope="col">Total SKUs received</th>
                                                <th scope="col"># of SKUs Damaged During Receiving</th>
                                                <th scope="col">Total Received with Putaway</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for inbound in inbounds %}
                                            <tr>
                                                <td>{{ inbound.id }}</td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'time', this.innerText)">
                                                    {{ inbound.time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'assigned_day', this.innerText)">
                                                    {{ inbound.assigned_day }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'total_shipments_in_asn', this.innerText)">
                                                    {{ inbound.total_shipments_in_asn }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'arrived', this.innerText)">
                                                    {{ inbound.arrived }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'no_show', this.innerText)">
                                                    {{ inbound.no_show }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'received_completely', this.innerText)">
                                                    {{ inbound.received_completely }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'rejected_completely', this.innerText)">
                                                    {{ inbound.rejected_completely }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'received_partially', this.innerText)">
                                                    {{ inbound.received_partially }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'under_tamer_inspection', this.innerText)">
                                                    {{ inbound.under_tamer_inspection }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'waiting_for_mod_inspection', this.innerText)">
                                                    {{ inbound.waiting_for_mod_inspection }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'waiting_for_NUPCO_action', this.innerText)">
                                                    {{ inbound.waiting_for_NUPCO_action }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'total_dash_of_GR_reports_shared', this.innerText)">
                                                    {{ inbound.total_dash_of_GR_reports_shared }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'dash_of_GR_reports_that_include_variance', this.innerText)">
                                                    {{ inbound.dash_of_GR_reports_that_include_variance }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'total_number_of_SKUS_received', this.innerText)">
                                                    {{ inbound.total_number_of_SKUS_received }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'number_of_SKUS_damaged_during_receiving', this.innerText)">
                                                    {{ inbound.number_of_SKUS_damaged_during_receiving }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerInbound', {{ inbound.id }}, 'total_received_with_storing', this.innerText)">
                                                    {{ inbound.total_received_with_storing }}
                                                </td>
                                                <td>
                                                    <button type="button"
                                                            onclick="deleteData('CustomerInbound', {{ inbound.id }})">
                                                        Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--  Table Outbound   -->
                        <div class="tab-pane fade" id="topline-top-outbound" role="tabpanel"
                             aria-labelledby="topline-top-outbound-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">Outbound Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Time</th>
                                                <th scope="col">Day</th>
                                                <th scope="col">Order Received From NPCO</th>
                                                <th scope="col">Pending Orders</th>
                                                <th scope="col">Number of Orders Not Yet Picked</th>
                                                <th scope="col">Orders Picked But Not Yet Ready for Dispatch</th>
                                                <th scope="col">Orders Waiting for MOD QC</th>
                                                <th scope="col">Orders Ready for Dispatch</th>
                                                <th scope="col">Orders Delivered Today</th>
                                                <th scope="col">Justification for Delay (Order by Order)</th>
                                                <th scope="col">Total SKUs Picked</th>
                                                <th scope="col">Total SKU Discrepancies in Orders</th>
                                                <th scope="col">Number of PODs Collected on Time</th>
                                                <th scope="col">Number of PODs Collected Late</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for outbound in outbounds %}
                                            <tr>
                                                <td>{{ outbound.id }}</td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'time', this.innerText)">
                                                    {{ outbound.time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'day', this.innerText)">
                                                    {{ outbound.day }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'order_received_from_npco', this.innerText)">
                                                    {{ outbound.order_received_from_npco }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'pending_orders', this.innerText)">
                                                    {{ outbound.pending_orders }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'number_of_orders_not_yet_picked', this.innerText)">
                                                    {{ outbound.number_of_orders_not_yet_picked }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'number_of_orders_picked_but_not_yet_ready_for_dispatch', this.innerText)">
                                                    {{ outbound.number_of_orders_picked_but_not_yet_ready_for_dispatch}}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'number_of_orders_waiting_for_mod_qc', this.innerText)">
                                                    {{ outbound.number_of_orders_waiting_for_mod_qc }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'number_of_orders_that_are_ready_for_dispatch', this.innerText)">
                                                    {{ outbound.number_of_orders_that_are_ready_for_dispatch }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'number_of_orders_that_are_delivered_today', this.innerText)">
                                                    {{ outbound.number_of_orders_that_are_delivered_today }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'justification_for_the_delay_order_by_order', this.innerText)">
                                                    {{ outbound.justification_for_the_delay_order_by_order }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'total_skus_picked', this.innerText)">
                                                    {{ outbound.total_skus_picked }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'total_dash_of_SKU_discripancy_in_Order', this.innerText)">
                                                    {{ outbound.total_dash_of_SKU_discripancy_in_Order }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'number_of_PODs_collected_on_time', this.innerText)">
                                                    {{ outbound.number_of_PODs_collected_on_time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerOutbound', {{ outbound.id }}, 'number_of_PODs_collected_Late', this.innerText)">
                                                    {{ outbound.number_of_PODs_collected_Late }}
                                                </td>
                                                <td>
                                                    <button type="button"
                                                            onclick="deleteData('CustomerOutbound', {{ outbound.id }})">
                                                        Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--  Table Return  -->
                        <div class="tab-pane fade" id="topline-top-return" role="tabpanel"
                             aria-labelledby="topline-top-return-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">Return Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Time</th>
                                                <th scope="col">Day</th>
                                                <th scope="col">Return Items Orders updated Late</th>
                                                <th scope="col">Return Items Orders updated on Time</th>
                                                <th scope="col">Total Orders Items Returned</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for return in returns %}
                                            <tr>
                                                <td>{{ return.id }}</td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerReturn',{{ return.id }}, 'time', this.innerText)">
                                                    {{ return.time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerReturn',{{ return.id }}, 'assigned_day', this.innerText)">
                                                    {{ return.assigned_day }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerReturn',{{ return.id }}, 'total_orders_items_returned', this.innerText)">
                                                    {{ return.total_orders_items_returned }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerReturn',{{ return.id }}, 'number_of_return_items_orders_updated_on_time', this.innerText)">
                                                    {{ return.number_of_return_items_orders_updated_on_time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateData('CustomerReturn',{{ return.id }}, 'number_of_return_items_orders_updated_late', this.innerText)">
                                                    {{ return.number_of_return_items_orders_updated_late }}
                                                </td>
                                                <td>
                                                    <button type="button"
                                                            onclick="deleteData('CustomerReturn', {{ return.id }})">

                                                        Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--  Table Expiry  -->
                        <div class="tab-pane fade" id="topline-top-expiries" role="tabpanel"
                             aria-labelledby="topline-top-expiries-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">Expiry Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Time</th>
                                                <th scope="col">Day</th>
                                                <th scope="col">Total SKUS</th>
                                                <th scope="col">Total Expired SKUS Disposed</th>
                                                <th scope="col">Nearly Expired: 1-3 months</th>
                                                <th scope="col">Nearly Expired: 3-6 months</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for expiry in expiries %}
                                            <tr>
                                                <td>{{ expiry.id }}</td>
                                                <td contenteditable="true"
                                                    onblur="updateExpiry({{ expiry.id }}, 'time', this.innerText)">
                                                    {{ expiry.time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateExpiry({{ expiry.id }}, 'assigned_day', this.innerText)">
                                                    {{ expiry.assigned_day }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateExpiry({{ expiry.id }}, 'total_SKUs_expired', this.innerText)">
                                                    {{ expiry.total_SKUs_expired }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateExpiry({{ expiry.id }}, 'total_expired_SKUS_disposed', this.innerText)">
                                                    {{ expiry.total_expired_SKUS_disposed }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateExpiry({{ expiry.id }}, 'nearly_expired_1_to_3_months', this.innerText)">
                                                    {{ expiry.nearly_expired_1_to_3_months }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateExpiry({{ expiry.id }}, 'nearly_expired_3_to_6_months', this.innerText)">
                                                    {{ expiry.nearly_expired_3_to_6_months }}
                                                </td>
                                                <td>
                                                    <button type="button" onclick="deleteExpiry({{ expiry.id }})">
                                                        Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--  Table Damage  -->
                        <div class="tab-pane fade" id="topline-top-damages" role="tabpanel"
                             aria-labelledby="topline-top-damages-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">Damage Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Time</th>
                                                <th scope="col">Day</th>
                                                <th scope="col">Total QTYS Damaged by WH</th>
                                                <th scope="col">Naraber of Damaged during receiving</th>
                                                <th scope="col">Total Damaged QTYS Disposed</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for damage in damages %}
                                            <tr>
                                                <td>{{ damage.id }}</td>
                                                <td contenteditable="true"
                                                    onblur="updateDamage({{ damage.id }}, 'time', this.innerText)">
                                                    {{ damage.time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateDamage({{ damage.id }}, 'assigned_day', this.innerText)">
                                                    {{ damage.assigned_day }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateDamage({{ damage.id }}, 'Total_QTYs_Damaged_by_WH', this.innerText)">
                                                    {{ damage.Total_QTYs_Damaged_by_WH }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateDamage({{ damage.id }}, 'Number_of_Damaged_during_receiving', this.innerText)">
                                                    {{ damage.Number_of_Damaged_during_receiving }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateDamage({{ damage.id }}, 'Number_of_Damaged_during_receiving', this.innerText)">
                                                    {{ damage.Total_Damaged_QTYs_Disposed }}
                                                </td>
                                                <td>
                                                    <button type="button" onclick="deleteDamage({{ damage.id }})">
                                                        Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--  Table Travel Distances  -->
                        <div class="tab-pane fade" id="topline-top-travel_distances" role="tabpanel"
                             aria-labelledby="topline-top-travel_distances-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">Travel Distances Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Time</th>
                                                <th scope="col">Day</th>
                                                <th scope="col">Total no. of Pallet delivered</th>
                                                <th scope="col">Total no. of Customers delivered</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for travel_distance in travel_distances %}
                                            <tr>
                                                <td>{{ travel_distance.id }}</td>
                                                <td contenteditable="true"
                                                    onblur="updateTravelDistance({{ travel_distance.id }}, 'time', this.innerText)">
                                                    {{ travel_distance.time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateTravelDistance({{ travel_distance.id }}, 'assigned_day', this.innerText)">
                                                    {{ travel_distance.assigned_day }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateTravelDistance({{ travel_distance.id }}, 'Total_no_of_Customers_deliverd', this.innerText)">
                                                    {{ travel_distance.Total_no_of_Customers_deliverd }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateTravelDistance({{ travel_distance.id }}, 'Total_no_of_Pallet_deliverd', this.innerText)">
                                                    {{ travel_distance.Total_no_of_Pallet_deliverd }}
                                                </td>
                                                <td>
                                                    <button type="button"
                                                            onclick="deleteTravelDistance({{ travel_distance.id }})">
                                                        Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--  Table Inventories  -->
                        <div class="tab-pane fade" id="topline-top-inventories" role="tabpanel"
                             aria-labelledby="topline-top-inventories-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">Inventories Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Time</th>
                                                <th scope="col">Day</th>
                                                <th scope="col">Total Locations Audited</th>
                                                <th scope="col">Total Locations with Incorrect SKU and Qty</th>
                                                <th scope="col">Total SKUs Reconciliation</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for inventory in inventories %}
                                            <tr>
                                                <td>{{ inventory.id }}</td>
                                                <td contenteditable="true"
                                                    onblur="updateInventory({{ inventory.id }}, 'time', this.innerText)">
                                                    {{ inventory.time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateInventory({{ inventory.id }}, 'assigned_day', this.innerText)">
                                                    {{ inventory.assigned_day }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateInventory({{ inventory.id }}, 'Total_Locations_Audited', this.innerText)">
                                                    {{ inventory.Total_Locations_Audited }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateInventory({{ inventory.id }}, 'Total_Locations_with_Incorrect_SKU_and_Qty', this.innerText)">
                                                    {{ inventory.Total_Locations_with_Incorrect_SKU_and_Qty }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateInventory({{ inventory.id }}, 'Total_SKUs_Reconciliation', this.innerText)">
                                                    {{ inventory.Total_SKUs_Reconciliation }}
                                                </td>
                                                <td>
                                                    <button type="button" onclick="deleteInventory({{ inventory.id }})">
                                                        Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--  Table Pallet Location Availabilities  -->
                        <div class="tab-pane fade" id="topline-top-pallet_location_availabilities" role="tabpanel"
                             aria-labelledby="topline-top-pallet_location_availabilities-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">Pallet Location Availabilities Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Time</th>
                                                <th scope="col">Day</th>
                                                <th scope="col">Total Storage Pallet</th>
                                                <th scope="col">Total Storage Bin</th>
                                                <th scope="col">Total Storage pallet empty</th>
                                                <th scope="col">Total occupied pallet location</th>
                                                <th scope="col">Total occupied Bin location</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for pallet_location_availability in pallet_location_availabilities %}
                                            <tr>
                                                <td>{{ pallet_location_availability.id }}</td>
                                                <td contenteditable="true"
                                                    onblur="updatePalletLocationAvailability({{ pallet_location_availability.id }}, 'time', this.innerText)">
                                                    {{ pallet_location_availability.time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updatePalletLocationAvailability({{ pallet_location_availability.id }}, 'assigned_day', this.innerText)">
                                                    {{ pallet_location_availability.assigned_day }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updatePalletLocationAvailability({{ pallet_location_availability.id }}, 'Total_Storage_Pallet', this.innerText)">
                                                    {{ pallet_location_availability.Total_Storage_Pallet }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updatePalletLocationAvailability({{ pallet_location_availability.id }}, 'Total_Storage_Bin', this.innerText)">
                                                    {{ pallet_location_availability.Total_Storage_Bin }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updatePalletLocationAvailability({{ pallet_location_availability.id }}, 'Total_Storage_pallet_empty', this.innerText)">
                                                    {{ pallet_location_availability.Total_Storage_pallet_empty }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updatePalletLocationAvailability({{ pallet_location_availability.id }}, 'Total_Storage_Bin_empty', this.innerText)">
                                                    {{ pallet_location_availability.Total_Storage_Bin_empty }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updatePalletLocationAvailability({{ pallet_location_availability.id }}, 'Total_occupied_pallet_location', this.innerText)">
                                                    {{ pallet_location_availability.Total_occupied_pallet_location }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updatePalletLocationAvailability({{ pallet_location_availability.id }}, 'Total_occupied_Bin_location', this.innerText)">
                                                    {{ pallet_location_availability.Total_occupied_Bin_location }}
                                                </td>
                                                <td>
                                                    <button type="button"
                                                            onclick="deletePalletLocationAvailability({{ pallet_location_availability.id }})">
                                                        Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--  Table HSE  -->
                        <div class="tab-pane fade" id="topline-top-hses" role="tabpanel"
                             aria-labelledby="topline-top-hses-tab">
                            <div class="card-body px-0 pb-0">
                                <div class="user-header pb-2">
                                    <h6 class="fw-bold">HSE Details:</h6>
                                </div>
                                <div class="user-content">
                                    <div class="table-responsive custom-scrollbar">
                                        <table class="table mb-0">
                                            <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Time</th>
                                                <th scope="col">Day</th>
                                                <th scope="col">Total Incidents on the side</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for hse in hses %}
                                            <tr>
                                                <td>{{ hse.id }}</td>
                                                <td contenteditable="true"
                                                    onblur="updateHse({{ hse.id }}, 'time', this.innerText)">
                                                    {{ hse.time }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateHse({{ hse.id }}, 'assigned_day', this.innerText)">{{
                                                    hse.assigned_day }}
                                                </td>
                                                <td contenteditable="true"
                                                    onblur="updateHse({{ hse.id }}, 'Total_Incidents_on_the_side', this.innerText)">
                                                    {{ hse.Total_Incidents_on_the_side }}
                                                </td>
                                                <td>
                                                    <button type="button" onclick="deleteHse({{ hse.id }})">Delete
                                                    </button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    function updateData(model, id, field, value) {
        fetch("{% url 'customer:data_entry' %}", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}'
            },
            body: JSON.stringify({update: {model: model, id: id, field: field, value: value}})
        })
        .then(response => response.json())
        .then(data => {
            if (!data.success) {
                alert("Failed to update data: " + data.error);
            } else {
                // Optional: Handle success if needed
            }
        })
        .catch(error => {
            console.error("Error updating data:", error);
        });
    }

    function deleteData(model, id) {
        fetch("{% url 'customer:data_entry' %}", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}'
            },
            body: JSON.stringify({delete: {model: model, id: id}})
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                location.reload(); // Reload the page on successful delete
            } else {
                alert("Failed to delete row: " + data.error);
            }
        })
        .catch(error => {
            console.error("Error deleting row:", error);
        });
    }
</script>


<!-- Container-fluid Ends-->